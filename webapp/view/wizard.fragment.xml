<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:form="sap.ui.layout.form">
	<Dialog title="Dialog" contentWidth="80%" contentHeight="70%" draggable="false" resizable="true" afterClose="handleDlgAfterClose">
		<content>
			<NavContainer id="wizardContainer" width="100%" height="100%">
				<pages>
					<Page id="wizardContentPage" showHeader="false">
						<content>
							<Wizard id="CreateExpensePlanWizard" showNextButton="false" complete="basicStepComplete">
								<WizardStep binding="{/}" id="BasicStep" title="Set Basic Information" validated="true">
									<MessageStrip text="预算计划 – 基本信息" showIcon="true"/>
									<form:SimpleForm id="basicStepForm" editable="true">
										<Label text="Plan Id" required="true"/>
										<Input value="{/PlanId}">
											<customData>
												<core:CustomData key="validation" value="NOT_NULL"/>
											</customData>
										</Input>
										<Label text="Start Date" required="true"/>
										<DatePicker value="{/StartDate}" change="t">
											<customData>
												<core:CustomData key="validation" value="NOT_NULL"/>
											</customData>
										</DatePicker>
										<Label text="End Date" required="true"/>
										<DatePicker value="{/EndDate}" change="t">
											<customData>
												<core:CustomData key="validation" value="NOT_NULL"/>
											</customData>
										</DatePicker>
										<Label text="Plan Name" required="true"/>
										<Input value="{/PlanName}">
											<customData>
												<core:CustomData key="validation" value="NOT_NULL"/>
											</customData>
										</Input>
										<!---->
										<Label text="Company"/>
										<Input value="{/Company}"/>
										<Label text="Responseible Employee"/>
										<Input value="{/Employee}"/>
										<Label text="Manager"/>
										<Input value="{/Manager}"/>
										<Label text="Plan Amount" required="true"/>
										<Input value="{/PlanAmount}" required="true">
											<customData>
												<core:CustomData key="validation" value="NOT_NULL"/>
											</customData>
										</Input>
										<Label text="Plan Amount Currency" required="true"/>
										<Input value="{/PlanAmountCurrency}">
											<customData>
												<core:CustomData key="validation" value="NOT_NULL"/>
											</customData>
										</Input>
									</form:SimpleForm>
								</WizardStep>
								<!--Indicates whether or not the step is validated. When a step is 
									validated a Next button is visualized in the Wizard control. -->
								<WizardStep id="SetDimensionStep" validated="false" title="Set Dimension" activate="setDimensionActivate">
									<MessageStrip text="设置维度结构 " showIcon="true"/>
									<l:VerticalLayout width="100%">
										<l:BlockLayout background="{/selectedBackground}">
											<l:BlockLayoutRow>
												<l:BlockLayoutCell width="1" title="Available Dimension">
													<FlexBox>
														<items>
															<List id="idAvaiableDimensions" mode="SingleSelectMaster" noDataText="No Data"
																items="{path:'dimension>/DimensionCollection', sorter:{path:'key'}}">
																<items>
																	<StandardListItem title="{dimension>value}"></StandardListItem>
																</items>
																<layoutData>
																	<FlexItemData growFactor="10"/>
																</layoutData>
															</List>
															<FlexBox height="25%" direction="Column" alignItems="Center" justifyContent="Center">
																<items>
																	<Button icon="sap-icon://open-command-field" press="onAddDimension" ariaLabelledBy="editButtonLabel"/>
																	<Button icon="sap-icon://close-command-field" press="onRemoveDimension" ariaLabelledBy="editButtonLabel"/>
																</items>
																<layoutData>
																	<FlexItemData growFactor="2"/>
																</layoutData>
															</FlexBox>
														</items>
													</FlexBox>
												</l:BlockLayoutCell>
												<l:BlockLayoutCell width="1" title="Selected Dimension">
													<List id="idTargetDimensions" mode="SingleSelectMaster" noDataText="No Data" items="{path:'/DimensionCollection'}">
														<items>
															<StandardListItem title="{name}" counter="{level}"></StandardListItem>
														</items>
														<headerToolbar>
															<Toolbar>
																<ToolbarSpacer/>
																<Button icon="sap-icon://up" press="onUpDimension"/>
																<Button icon="sap-icon://down" press="onDownDimension"/>
															</Toolbar>
														</headerToolbar>
													</List>
												</l:BlockLayoutCell>
											</l:BlockLayoutRow>
										</l:BlockLayout>
									</l:VerticalLayout>
								</WizardStep>
								<WizardStep id="SetDetailStep" validated="false" activate="optionalStepActivation" title="Plan Detail">
									<MessageStrip text="Elaboration" showIcon="true"/>
									<Tree id="Tree" items="{path: '/Tree'}">
										<items>
											<StandardTreeItem title="{text}" icon="{ref}" counter="111.1"/>
										</items>
										<headerToolbar>
											<Toolbar>
												<ToolbarSpacer/>
												<Button icon="sap-icon://add" press="handleButtonPress"/>
												<Button icon="sap-icon://decline" press="handleButtonPress"/>
											</Toolbar>
										</headerToolbar>
									</Tree>
								</WizardStep>
							</Wizard>
						</content>
					</Page>
				</pages>
			</NavContainer>
		</content>
		<buttons>
			<Button text="Previous Step" press="handleDlgPrevious"></Button>
			<Button text="Next Step" press="handleDlgNext"></Button>
			<Button text="Close" press="handleDlgClose"></Button>
		</buttons>
	</Dialog>
</core:FragmentDefinition>