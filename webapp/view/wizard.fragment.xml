<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:form="sap.ui.layout.form">
	<Dialog title="Dialog" contentWidth="80%" contentHeight="70%" draggable="false" resizable="true" afterClose="handleDlgAfterClose">
		<content>
			<NavContainer id="wizardContainer" width="100%" height="100%">
				<pages>
					<Page id="wizardContentPage" showHeader="false">
						<content>
							<Wizard id="CreateExpensePlanWizard" showNextButton="true" complete="wizardCompletedHandler">
								<WizardStep id="BasicStep" title="Set Basic Information" validated="true">
									<MessageStrip text="预算计划 – 基本信息" showIcon="true"/>
									<form:SimpleForm editable="true">
										<Label text="Plan Id" required="true"/>
										<Input value="{/PlanId}"/>
										<Label text="Start Date" required="true"/>
										<DatePicker value="{/StartDate}" change="t"/>
										<Label text="End Date" required="true"/>
										<DatePicker value="{/EndDate}" change="t"/>
										<Label text="Plan Name"/>
										<Input value="{/PlanName}"/>
										<!---->
										<Label text="Company"/>
										<Input value="{/Company}"/>
										<Label text="Responseible Employee"/>
										<Input value="{/Employee}"/>
										<Label text="Manager"/>
										<Input value="{/Manager}"/>
										<Label text="Plan Amount" required="true"/>
										<Input value="{/PlanAmount}"/>
										<Label text="Plan Amount Currency" required="true"/>
										<Input value="{/PlanAmountCurrency}"/>
									</form:SimpleForm>
								</WizardStep>
								<!--Indicates whether or not the step is validated. When a step is validated a Next button is visualized in the Wizard control.-->
								<WizardStep id="DimensionStep" validated="false" title="Set Dimension" activate="dimensionValidation">
									<MessageStrip text="设置维度结构 " showIcon="true"/>
									<l:VerticalLayout id="containerLayout" width="100%">
										<l:BlockLayout id="BlockLayout" background="{/selectedBackground}">
											<l:BlockLayoutRow>
												<l:BlockLayoutCell width="3" title="Available Dimension">
													<SelectList items="{path:'dimension>/DimensionCollection', sorter:{path:'key'}}">
														<core:Item key="{dimension>key}" text="{dimension>value}"></core:Item>
													</SelectList>
												</l:BlockLayoutCell>
												<l:BlockLayoutCell width="1">
													<FlexBox height="100%" direction="Column" alignItems="Start" justifyContent="Center">
														<items>
															<Button icon="sap-icon://open-command-field" press="onPress" ariaLabelledBy="editButtonLabel"/>
															<Button icon="sap-icon://close-command-field" press="onPress" ariaLabelledBy="editButtonLabel"/>
														</items>
													</FlexBox>
												</l:BlockLayoutCell>
												<l:BlockLayoutCell width="3" title="Selected Dimension">
													<List items="{path:'selected_dimension>/DimensionCollection', sorter:{path:'key'}}">
														<items>
															<StandardListItem title="{Name}" counter="{level}"></StandardListItem>
														</items>
														<headerToolbar>
															<Toolbar>
																<ToolbarSpacer/>
																<Button icon="sap-icon://up" press="handleButtonPress"/>
																<Button icon="sap-icon://down" press="handleButtonPress"/>
															</Toolbar>
														</headerToolbar>
													</List>
												</l:BlockLayoutCell>
											</l:BlockLayoutRow>
										</l:BlockLayout>
									</l:VerticalLayout>
								</WizardStep>
								<WizardStep id="SetDemensionInfoStep" validated="true" activate="optionalStepActivation" title="Plan Detail">
									<MessageStrip text="Elaboration" showIcon="true"/>
									<Tree id="Tree" items="{path: 'tree>/'}">
										<items>
											<StandardTreeItem title="{tree>text}" icon="{tree>ref}"/>
										</items>
										<headerToolbar>
											<Toolbar>
												<ToolbarSpacer/>
												<Button icon="sap-icon://add" press="handleButtonPress"/>
												<Button icon="sap-icon://decline" press="handleButtonPress"/>
											</Toolbar>
										</headerToolbar>
									</Tree>
								</WizardStep>
								<WizardStep id="SetPlaningAmount" activate="pricingActivate" complete="pricingComplete" validated="true" title="Pricing">
									<MessageStrip text="step4" showIcon="true"/>
								</WizardStep>
							</Wizard>
						</content>
					</Page>
				</pages>
			</NavContainer>
		</content>
		<buttons>
			<Button text="Previous Step" press="handleDlgPrevious"></Button>
			<Button text="Next Step" press="handleDlgNext"></Button>
			<Button text="Close" press="handleDlgClose"></Button>
		</buttons>
	</Dialog>
</core:FragmentDefinition>